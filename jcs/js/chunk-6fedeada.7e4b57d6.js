(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6fedeada"],{a55b:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login"},[o("div",{staticClass:"inp_box"},[o("div",{staticClass:"login_mian"},[o("el-form",{ref:"from",staticClass:"demo-ruleForm",attrs:{model:e.from,rules:e.rules,"label-width":"100px"}},[o("el-form-item",{attrs:{label:"用户名",prop:"username"}},[o("el-input",{nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm("from")}},model:{value:e.from.username,callback:function(t){e.$set(e.from,"username",t)},expression:"from.username"}})],1),o("el-form-item",{attrs:{label:"密码",prop:"password"}},[o("el-input",{attrs:{type:"password"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm("from")}},model:{value:e.from.password,callback:function(t){e.$set(e.from,"password",t)},expression:"from.password"}})],1),o("el-form-item",{attrs:{label:"验证码",prop:"validCode"}},[o("el-input",{nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitForm("from")}},model:{value:e.from.validCode,callback:function(t){e.$set(e.from,"validCode",t)},expression:"from.validCode"}}),o("img",{staticStyle:{},attrs:{src:e.codeimg,alt:"验证码"},on:{click:function(t){return e.key()}}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("from")}}},[e._v("登录")])],1)],1)],1)])])},r=[],s=(o("99af"),o("c975"),o("ed08"),{name:"login",data:function(){return{labelPosition:"left",rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],validCode:[{required:!0,message:"验证码",trigger:"blur"}]},loadingout:"",from:{key:"",username:"",password:"",validCode:""},codeimg:""}},created:function(){$(document).ready((function(){-1==location.href.indexOf("#reloaded")&&(location.href=location.href+"#reloaded",location.reload())})),this.key()},mounted:function(){},methods:{key:function(){var e=this;this.$public.system().then((function(t){"000000"==t.code&&(e.from.key=t.data,e.gaincode())}))},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.openFullScreen(),t.$store.dispatch("login",t.from).then((function(e){t.$message({type:"success",message:"登录成功"}),t.$router.push({path:"/backstage/index"}),t.loadingout.close()}),(function(e){t.key(),t.loadingout.close(),t.$$message({message:e,type:"warning"})}))}))},resetForm:function(e){this.$refs[e].resetFields()},gaincode:function(){this.codeimg="".concat(window.apiBase,"/system/").concat(this.from.key)},openSuccess:function(e){this.$message({message:"".concat(e),type:"success"})},openError:function(e){this.$message.error("".concat(e))},openFullScreen:function(){this.loadingout=this.$loading({lock:!0,text:"Loading...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})}},components:{}}),i=s,a=(o("d6db"),o("2877")),l=Object(a["a"])(i,n,r,!1,null,null,null);t["default"]=l.exports},d6db:function(e,t,o){"use strict";var n=o("e67a"),r=o.n(n);r.a},e67a:function(e,t,o){}}]);